<% @page_title = @collection.name %>

<% content_for :head do %>
  <%= tag.meta property: "og:title", content: "#{@collection.name} | #{Account.sole.name}" %>
  <%= tag.meta property: "og:description", content: format_excerpt(@collection&.public_description, length: 200) %>
  <%= tag.meta property: "og:image", content: "#{request.base_url}/app-icon.png" %>
  <%= tag.meta property: "og:url", content: published_collection_url(@collection) %>

  <%= tag.meta property: "twitter:title", content: "#{@collection.name} | #{Account.sole.name}" %>
  <%= tag.meta property: "twitter:description", content: format_excerpt(@collection&.public_description, length: 200) %>
  <%= tag.meta property: "twitter:image", content: "#{request.base_url}/app-icon.png" %>
  <%= tag.meta property: "twitter:card", content: "summary_large_image" %>
<% end %>

<% content_for :header do %>
  <h1 class="header__title">
    <%= @page_title %>
  </h1>
<% end %>

<% if @collection.public_description.present? %>
  <div class="card__collection-public-description txt-align-center center margin-block-end">
    <%= @collection.public_description %>
  </div>
<% end %>

<div class="card-columns">
  <%= render "public/collections/show/on_deck", collection: @collection, page: @on_deck %>
  <%= render "public/collections/show/considering", collection: @collection, page: @considering %>
  <%= render "public/collections/show/doing", collection: @collection, page: @doing %>
</div>

<%= render "public/collections/show/closed", collection: @collection, page: @closed %>
